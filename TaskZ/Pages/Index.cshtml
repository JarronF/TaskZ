@page "{handler?}/{taskId:int?}"
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}


<h2>Task Board</h2>


<div>
    <h3 class="alert alert-info">Using partial views:</h3>
    <p>Goal: Use an un-ordered list to display tasks using the _TaskListPartial view. </p>
    <p>Clicking the main task line will call a named handler method using AJAX and return the partial view to display the sub-tasks</p>
    
    <partial name="_TaskListPartial" model="Model.HighLevelTaskList" />


    <h3 class="alert alert-info">Using MVCGrid:</h3>


</div>
@section scripts{

    <script>

        $(function () {
            $('.task-line').on('click', function () {
                var taskId = $(this).data('taskid');
                $(this).find("#subTasks").load("/Index/SubTasksPartial/" + taskId);
            });
        });
    </script>

}
